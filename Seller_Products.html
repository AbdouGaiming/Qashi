<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Products - Qashi</title>
    <link rel="stylesheet" href="Style/Sheet.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="Script/Seller_Products.js" defer></script>
</head>
<body>
    <!-- Top Menu -->
    <div class="top-menu">
        <img src="ICONS/Qashi.png" alt="Qashi.com Logo">
        <div class="user-profile">
            <span class="material-icons">account_circle</span>
            <div class="dropdown">
                <span>Zoubir</span>
                <div class="dropdown-content">
                    <a href="Seller_Profile.html">Profile</a>
                    <a href="#">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav>
            <ul>
                <li><a href="Seller_Dashboard.html"><i class="icon-dashboard"></i><span>Dashboard</span></a></li>
                <li><a href="Seller_Orders.html"><i class="icon-orders"></i><span>Orders</span></a></li>
                <li class="active"><a href="Seller_Products.html"><i class="icon-products"></i><span>Products</span></a></li>
                <li><a href="Seller_Analytics.html"><i class="icon-analytics"></i><span>Analytics</span></a></li>
                <li><a href="Seller_Customers.html"><i class="icon-customers"></i><span>Customers</span></a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <h1>Manage Products</h1>
        <button class="add-product-button" onclick="toggleAddProductForm()">Add New Product</button>
        
        <table class="products-table">
            <thead>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Stock</th>
                    <th>Category</th>
                    <th>Sub Category</th>
                    <th>Variant Color</th>
                    <th>Variant Size</th>
                    <th>Variant Stock</th>
                    <th>Image</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Products and Variants will be loaded here dynamically -->
            </tbody>
        </table>

        <!-- Add/Edit Product Form -->
        <div class="add-product-form" id="add-product-form-container" style="display: none;">
            <h2 id="form-title">Add New Product</h2>
            <form id="product-form" enctype="multipart/form-data">
                <!-- Hidden input for product ID (used when updating a product) -->
                <input type="hidden" id="product-id" name="product_id">

                <!-- Product Name -->
                <label for="product-name">Product Name</label>
                <input type="text" id="product-name" name="product_name" required>
                <label id="I-product-name" style="display:none; color:red;">Please enter a valid product name.</label>

                <!-- Description -->
                <label for="description">Description</label>
                <textarea id="description" name="description" required></textarea>
                <label id="I-description" style="display:none; color:red;">Please enter a valid description.</label>

                <!-- Price -->
                <label for="price">Price</label>
                <input type="text" id="price" name="price" required>
                <label id="I-price" style="display:none; color:red;">Please enter a valid price.</label>

                <!-- Image File Upload -->
                <label for="image-file">Product Image</label>
                <input type="file" id="image-file" name="image_file" accept="image/*">
                <label id="I-image-file" style="display:none; color:red;">Please upload a valid image file.</label>

                <!-- Category -->
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="">Select Category</option>
                    <option value="men">Men</option>
                    <option value="women">Women</option>
                    <option value="boys">Boys</option>
                    <option value="girls">Girls</option>
                </select>
                <label id="I-category" style="display:none; color:red;">Please select a category.</label>

                <!-- Sub Category -->
                <label for="sub-category">Sub Category</label>
                <select id="sub-category" name="sub_category" required>
                    <option value="">Select Sub Category</option>
                    <option value="hats">Hats</option>
                    <option value="shoes">Shoes</option>
                    <option value="t-shirts">T-Shirts</option>
                    <option value="shirts">Shirts</option>
                    <option value="jeans">Jeans</option>
                    <option value="shorts">Shorts</option>
                    <option value="socks">Socks</option>
                    <option value="hoodies">Hoodies</option>
                    <option value="jackets">Jackets</option>
                    <option value="underwears">Underwears</option>
                    <option value="dresses">Dresses</option>
                    <option value="pants">Pants</option>
                    <option value="suits">Suits</option>
                </select>
                <label id="I-sub-category" style="display:none; color:red;">Please select a sub category.</label>

                <!-- Product Variants -->
                <h3>Product Variants</h3>
                <div id="variants-container">
                    <div class="variant">
                        <label for="variant-color">Color</label>
                        <input type="text" class="variant-color" name="variant_color[]" required>
                        <label id="I-variant-color" style="display:none; color:red;">Please enter a valid color.</label>

                        <label for="variant-size">Size</label>
                        <input type="text" class="variant-size" name="variant_size[]" required>
                        <label id="I-variant-size" style="display:none; color:red;">Please enter a valid size.</label>

                        <label for="variant-stock-quantity">Stock Quantity</label>
                        <input type="text" class="variant-stock-quantity" name="variant_stock_quantity[]" required>
                        <label id="I-variant-stock-quantity" style="display:none; color:red;">Please enter a valid stock quantity.</label>

                        <button type="button" class="remove-variant-button">Remove Variant</button>
                    </div>
                </div>
                <button type="button" onclick="addVariant()">Add Another Variant</button>

                <button type="submit" id="submit-button">Add Product</button>
                <button type="button" onclick="toggleAddProductForm()">Cancel</button>
            </form>
        </div>
    </main>
</body>
</html>